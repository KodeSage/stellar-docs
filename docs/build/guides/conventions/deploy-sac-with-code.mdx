---
title: Deploy a SAC for a Stellar asset using code
description: Deploy a SAC for a Stellar asset using Javascript SDK
---

<head>
  <title>
    {`Deploy a Stellar Asset Contract (SAC) for a Stellar asset using code`}
  </title>
  <meta charSet="utf-8" />
  <meta
    property="og:title"
    content="Deploy a Stellar Asset Contract (SAC) for a Stellar asset using code"
  />
  <meta
    property="og:description"
    content="This is a step-by-step guide to help you deploy an SAC for a Stellar asset using code."
  />
</head>

## Overview

In this guide, you'll learn how to deploy a [Stellar Asset Contract (SAC)](../../../tokens/stellar-asset-contract.mdx) for a Stellar asset using the [Stellar SDK](../../../tools/sdks/library.mdx#javascript-sdk). The Stellar SDK is a set of tools and library designed to help developers build applications that interact with the Stellar blockchain network.

## Prerequisites:

- [Node.js ](https://nodejs.org/en) and npm installed.
- Stellar SDK for [JavaScript](https://www.npmjs.com/package/@stellar/stellar-sdk) installed
- [Knowledge about Issuing an Asset on Stellar](https://developers.stellar.org/docs/tokens/how-to-issue-an-asset)

### Code overview

```javascript
import * as StellarSdk from "@stellar/stellar-sdk";

const DeployStellarAsset = async () => {
  const sourceSecrets =
    "SD6YNAQZUFAUTRECN6LFJLWXPQ7FCCOUVCWRD5IF56YHKYMVMV6XH6U2"; // Replace with your Secret Key
  const networkRPC = "https://soroban-testnet.stellar.org";
  const server = new StellarSdk.SorobanRpc.Server(networkRPC);
  const network_passphrase = StellarSdk.Networks.TESTNET;
  const sourceKeypair = StellarSdk.Keypair.fromSecret(sourceSecrets);
  const sourceAccount = await server.getAccount(sourceKeypair.publicKey());

  try {
    const assetCode = "ZUSD"; // Replace with any assetCode
    const issuerPublicKey =
      "GAO5V65XHF5MWELO3PMHMGMQXPNLGKZ4G4WLKO2LWOG6XNV4WQO3WTFB"; // Replace with any IssuerPublicKey of the corresponding Asset Code
    const Asset = new StellarSdk.Asset(assetCode, issuerPublicKey);

    const transaction = new StellarSdk.TransactionBuilder(
      new StellarSdk.Account(
        sourceAccount.accountId(),
        sourceAccount.sequenceNumber(),
      ),
      {
        fee: StellarSdk.BASE_FEE,
        networkPassphrase: network_passphrase,
      },
    )
      .addOperation(
        StellarSdk.Operation.createStellarAssetContract({
          asset: Asset,
        }),
      )
      .setTimeout(30)
      .build();

    const preparedTransac = await server.prepareTransaction(transaction);
    preparedTransac.sign(sourceKeypair);

    const result = await server.sendTransaction(transaction);
    console.log("hash:", result.hash);
    console.log("status:", result.status);
    console.log("errorResultXdr:", result.errorResult);

    let txResponse = await server.getTransaction(result.hash);

    // Wait for the transaction to be fully processed

    if (txResponse.status.toString() === "NOT_FOUND") {
      console.log("Transaction not found.");
      return;
    }
    if (txResponse.status.toString() === "SUCCESS") {
      // For Stellar Asset Contracts, the contract ID is derived from the asset
      const contractId = new StellarSdk.Contract(
        Asset.contractId(network_passphrase),
      );
      console.log("Deployed Contract ID:", contractId.address().toString());
    } else {
      console.log("Transaction failed:", txResponse.status);
      if (txResponse.resultXdr) {
        console.log("Result XDR:", txResponse.resultXdr);
      }
    }
  } catch (e) {
    console.error("An error occurred while Deploying assets:", e);
  }
};

DeployStellarAsset();
```

### Code explanation

**Setting up variables**

```javascript
const sourceSecrets =
  "SD6YNAQZUFAUTRECN6LFJLWXPQ7FCCOUVCWRD5IF56YHKYMVMV6XH6U2";
const networkRPC = "https://soroban-testnet.stellar.org";
const server = new StellarSdk.SorobanRpc.Server(networkRPC);
const network_passphrase = StellarSdk.Networks.TESTNET;
const sourceKeypair = StellarSdk.Keypair.fromSecret(sourceSecrets);
const sourceAccount = await server.getAccount(sourceKeypair.publicKey());
```

- `sourceSecrets`: The secret key for the source account.
- `networkRPC`: The URL for the Stellar Testnet.
- `server`: An instance of the Stellar RPC server.
- `network_passphrase`: The network passphrase for the Testnet.
- `sourceKeypair`: A keypair generated from the source secret.
- `sourceAccount`: The source account information fetched from the server.

**Asset information**

```javascript
const assetCode = "ZUSD"; // Replace with any assetCode
const issuerPublicKey =
  "GAO5V65XHF5MWELO3PMHMGMQXPNLGKZ4G4WLKO2LWOG6XNV4WQO3WTFB"; // Replace with any IssuerPublicKey of the corresponding Asset Code
const Asset = new StellarSdk.Asset(assetCode, issuerPublicKey);
```

- `assetCode`: The code for the asset (e.g., "ZUSD").
- `issuerPublicKey`: The public key of the asset issuer.
- `Asset`: A new Stellar asset object created with the code and issuer.

**Creating the transaction**

```javascript
const transaction = new StellarSdk.TransactionBuilder(
  new StellarSdk.Account(
    sourceAccount.accountId(),
    sourceAccount.sequenceNumber(),
  ),
  {
    fee: StellarSdk.BASE_FEE,
    networkPassphrase: network_passphrase,
  },
)
  .addOperation(
    StellarSdk.Operation.createStellarAssetContract({
      asset: Asset,
    }),
  )
  .setTimeout(30)
  .build();
```

Creates a new transaction using `TransactionBuilder`:

- It sets the source account, fee, and network passphrase.
- It adds an operation to create a Stellar Asset Contract.
- It sets a timeout of 30 seconds and builds the transaction.

**Preparing and sending the transaction**

```javascript
const preparedTransac = await server.prepareTransaction(transaction);
preparedTransac.sign(sourceKeypair);
const result = await server.sendTransaction(transaction);
```

The transaction is prepared, signed with the source keypair, and sent to the server.

**Handling the result**

```javascript
console.log("hash:", result.hash);
console.log("status:", result.status);
console.log("errorResultXdr:", result.errorResult);
let txResponse = await server.getTransaction(result.hash);
```

Logs the transaction hash, status, and any error results. It then retrieves the full transaction response.

**Checking transaction status**

```javascript
if (txResponse.status.toString() === "NOT_FOUND") {
  console.log("Transaction not found.");
  return;
}

if (txResponse.status.toString() === "SUCCESS") {
  const contractId = new StellarSdk.Contract(
    Asset.contractId(network_passphrase),
  );
  console.log("Deployed Contract ID:", contractId.address().toString());
} else {
  console.log("Transaction failed:", txResponse.status);
  if (txResponse.resultXdr) {
    console.log("Result XDR:", txResponse.resultXdr);
  }
}
```

Checks the transaction status:

- If not found, it logs a message and returns.
- If successful, calculates and logs the deployed contract ID.
- If failed, it logs the failure status and any additional result information.
